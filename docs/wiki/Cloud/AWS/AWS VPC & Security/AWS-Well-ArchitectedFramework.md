---
slug: "AWS-Well-ArchitectedFramework"
---
# AWS 아키텍팅 하기 전 알아야할 것
## 운영 우수성
![스크린샷-2023-03-14-오전-8.29.23.png](/img/스크린샷-2023-03-14-오전-8.29.23.png)
- 운영 작업을 코드로 수행(IaC)
- 변경 작업을 최소 단위로 나누어 수행
- 롤백을 고려한 변경 작업 수행
- 운영 프로세스를 자주 개선
- 장애를 시나리오 만들기
- 모든 장애 리뷰 및 레슨런하기

## 보안
![스크린샷-2023-03-14-오전-8.31.04.png](/img/스크린샷-2023-03-14-오전-8.31.04.png)
- 시스템의 모든 접근에 대한 추적 및 기록(Cloudtrail, Guard Duty)
- 모든 계층(OSI 7Layer)에 대한 보안을 적용
- 보안을 위한 자동화 구현 설계
- 모든 데이터를 보호하도록 설계(전송 중인 데이터, 정적 데이터)
- 보안 이벤트를 준비(침입탐지, Ddos 등)
### 각 계층 별 보안
![스크린샷-2023-03-14-오전-8.34.13.png](/img/스크린샷-2023-03-14-오전-8.34.13.png)

## 안정성
![스크린샷-2023-03-14-오전-8.35.02.png](/img/스크린샷-2023-03-14-오전-8.35.02.png)
- 장애에 대한 자동 복구 구축
- 장애 복구 훈련 수행
- 가용성을 높이기 위한 수평 확장 설계
- 스펙을 추측하지 않고, 확장 가능하도록 설계
- 운영 자동화의 지속적 변경 관리

## 성능 효율성
![스크린샷-2023-03-14-오전-8.36.55.png](/img/스크린샷-2023-03-14-오전-8.36.55.png)
- 최신 기술을 습득하고 적용(e.g 6세대 EC2인스턴스 m6g)
	- ARM 기반의 서버
- 주기적인 프로토타입 진행
- 빠른 글로벌 접근 가능한 설계(e.g.cloufront, route53)
- 서버리스 아키텍쳐 활용(e.g. Lamdba, Fargate, S3)

## 비용 최적화
![스크린샷-2023-03-14-오전-8.39.08.png](/img/스크린샷-2023-03-14-오전-8.39.08.png)
- 알맞는 가격 약정 채택
- 리소스 Right Sizing 분석
- 클라우드 마이그레이션ㅇ르 통해 온프레미스 운영비용 최소화
- 관리형 서비스를 사용하여 운영비용 최소화
- 지속적인 월 비용 분석을 통한 비용 최적화 수행

# AWS 서버 인프라의 확정 과정
## Basic
- 아주 소규모의 시스템의 경우
![스크린샷-2023-03-14-오전-8.44.42.png](/img/스크린샷-2023-03-14-오전-8.44.42.png)
- EC2에 DB엔진과 서버를 모두 설치하면 위와 같은 설계도가 나오게 된다.

## EC2 이중화 및 DB 분리
- DB를 따로 사용했을 때의 설계도
![스크린샷-2023-03-14-오전-8.45.38.png](/img/스크린샷-2023-03-14-오전-8.45.38.png)
- EC2를 이중화를 하여서, 아래와 같이 안전성을 확보한 타입입니다.
- DB는 RDS를 이용해서 관리형 DB를 따로 두어서 사용하는 형태이다.
	- DB는 단일화 되어있어서 안정성은 떨어진다.

## RDS 이중화
- DB 이중화
![스크린샷-2023-03-14-오전-8.47.08.png](/img/스크린샷-2023-03-14-오전-8.47.08.png)
- DB를 이중화하였다.
	- DB를 Master-Slave 구조로 DB를 구성하여 안정성을 확보
	- Master DB가 중지 됐을 때 Slave DB에서 FailOver를 할 수 있기 때문에, 안정성을 올린 설계도 라고 할 수 있다.

## ELB
- 앞단에 ELB를 배치
![스크린샷-2023-03-14-오전-8.53.21.png](/img/스크린샷-2023-03-14-오전-8.53.21.png)
- ELB를 통해 부하 분산, HealthCheck를 토대로 EC2의 부하를 분산 시켜준다.
- EC2를 외부에서 직접 접근이 불가능하게 한다.

## EC2 AutoScaling
![스크린샷-2023-03-14-오전-8.55.17.png](/img/스크린샷-2023-03-14-오전-8.55.17.png)
- EC2의 Auto Scling 을 활용해서 서버의 수평확장이 가능하도록 구현한 설계이다.
	- 트래픽이 증가하면, EC2의 수평 확장이 되기 때문에 트래픽을 버틸 수 있는 구조가 됩니다.
	- 하지만, 이러한 설계시에 DB도 해당 트래픽을 버텨야하기 때문에, 

## S3 bucket
![스크린샷-2023-03-14-오전-9.00.38.png](/img/스크린샷-2023-03-14-오전-9.00.38.png)
- EC2에 Static Content를 저장하지 않고, S3 Bucket에 저장하는 형태이다.
	- EC2에 부하를 줄이고, S3를 사용할 때 활용할 수 있는 다양한 Content를 사용할 수 있다.
- 

## Cloudfront
![스크린샷-2023-03-14-오전-9.04.11.png](/img/스크린샷-2023-03-14-오전-9.04.11.png)
- Static Content를 빠르게 배포하기 위해서 CloudFront를 사용하는 설계이다.
- CloudFront를 사용하게 되면, 각 지역에 edge location에 S3의 static content에 캐싱 되기 때문에, EC2 부하에 덜 간다는 장점이 있습니다.

## CloudFront - ELB
![스크린샷-2023-03-14-오전-9.06.34.png](/img/스크린샷-2023-03-14-오전-9.06.34.png)
- 모든 트래픽을 Cloudfront를 사용하여서, 조절하는 방식
- Cloudfront의 동적 컨텐츠를 캐싱해서 사용하는 방식

## Global 확장
![스크린샷-2023-03-14-오전-9.08.00.png](/img/스크린샷-2023-03-14-오전-9.08.00.png)

# AWS 리소스 네이밍 컨벤션
- 네이밍 컨벤션이란?
	- 식별자를 만들 때 가독성이 좋은 단어를 선택하기 위해 정해 놓은 이름 규칙
### 네이밍 표현 기법
|케이스 |예시 |
| -- | -- |
| 카멜 | camelCaseStyle |
| 스네이크 |snake_case_style |
| 케밥 | kebab-case-style |
| 파스칼 | PascalCaseStyle |

### AWS에서 Name?
| 분류 | 특징 |
| -- | -- |
| 리소스 태그의 Name | vpc, ec2, subnet등 모든 리소스 상시 변경 가능 |
| 리소스 자체의 Name | ELB, RDS, Elasticache 등 변경 불가(리소스 재생성) |

### EC2 네이밍 컨벤션 예시
![스크린샷-2023-03-14-오전-9.42.05.png](/img/스크린샷-2023-03-14-오전-9.42.05.png)

### RDS 네이밍 컨벤션 예시
![스크린샷-2023-03-14-오전-9.42.34.png](/img/스크린샷-2023-03-14-오전-9.42.34.png)

# Network 기초

## Network CIDR
:::tip CIDR : Classless Inter-Domain Routing 으로 클래스 없는 도메인간 라우팅 기법

:::

- 구분된 Network 간의 주소 체계
![스크린샷-2023-03-14-오전-9.53.55.png](/img/스크린샷-2023-03-14-오전-9.53.55.png)
### CIDR 주소 표기법
![스크린샷-2023-03-14-오전-9.55.14.png](/img/스크린샷-2023-03-14-오전-9.55.14.png)
- 32비트로 구성되며, 아래와 같이 구분된다.
![스크린샷-2023-03-14-오전-9.56.14.png](/img/스크린샷-2023-03-14-오전-9.56.14.png)

### CIDR 주소 계산하기 - PC 이용하기
```bash
ipcalc 10.10.1.2/26
```
![스크린샷-2023-03-14-오전-10.00.33.png](/img/스크린샷-2023-03-14-오전-10.00.33.png)
### CIDR 주소 계산하기 - 홈페이지
- CIDR 계산기 홈페이지
	- https://www.ipaddressguide.com/cidr

## 네트워크 트래픽과 대역폭
![스크린샷-2023-03-14-오전-10.02.42.png](/img/스크린샷-2023-03-14-오전-10.02.42.png)

## HTTP/SSL/TLS
### HTTP/SSL/TLS의 개념
![스크린샷-2023-03-14-오전-10.15.26.png](/img/스크린샷-2023-03-14-오전-10.15.26.png)

## 웹브라우저에서 도메인 URL을 입력하면 일어나는 일들
![스크린샷-2023-03-14-오전-10.17.02.png](/img/스크린샷-2023-03-14-오전-10.17.02.png)

