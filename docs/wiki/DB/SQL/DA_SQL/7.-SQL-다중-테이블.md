---
slug: "7.-SQL-다중-테이블"
---
# 테이블 합치기
## INNER JOIN
### 특징
![Pasted-image-20240229135224.png](/img/이미지 창고/Pasted-image-20240229135224.png)
- 두 테이블 모두에 있는 값만 합치기
![Pasted-image-20241105110527.png](/img/이미지 창고/Pasted-image-20241105110527.png)

### 문법
```sql
SELECT [컬럼 이름]
FROM [테이블 A 이름]
INNER JOIN [테이블 B 이름]
ON [테이블 A 이름].[컬럼 A 이름] = [테이블 B이름].[컬럼 B이름]
WHERE 조건식;
```

### 예시
![Pasted-image-20241105110930.png](/img/이미지 창고/Pasted-image-20241105110930.png)

```SQL
SELECT *
FROM mypokemon
INNER JOIN abiliy
ON mypokemon.number = ability.number;
```

### 결과
![Pasted-image-20241105110946.png](/img/이미지 창고/Pasted-image-20241105110946.png)

## LEFT JOIN & RIGHT JOIN
### LEFT JOIN 특징
![Pasted-image-20240229135239.png](/img/이미지 창고/Pasted-image-20240229135239.png)
- 왼쪽 테이블에 있는 값만 합치기

### RIGHT JOIN 특징
![Pasted-image-20240229135315.png](/img/이미지 창고/Pasted-image-20240229135315.png)
- 오른쪽 테이블에 있는 값만 합치기

### 문법
```SQL
SELECT [컬럼 이름]
FROM [테이블 A 이름]
LEFT JOIN (또는) RIGHT JOIN [테이블 B 이름]
ON [테이블 A 이름].[컬럼 A 이름] = [테이블 B이름].[컬럼 B이름]
WHERE 조건식;
```

### LEFT JOIN 예시
![Pasted-image-20241105111349.png](/img/이미지 창고/Pasted-image-20241105111349.png)

```SQL
SELECT *
FROM mypokemon
LEFT JOIN abiliy
ON mypokemon.number = ability.number;
```

### LEFT JOIN 결과
![Pasted-image-20241105111415.png](/img/이미지 창고/Pasted-image-20241105111415.png)

### RIGHT JOIN 예시
![Pasted-image-20241105111455.png](/img/이미지 창고/Pasted-image-20241105111455.png)

```SQL
SELECT *
FROM mypokemon
RIGHT JOIN abiliy
ON mypokemon.number = ability.number;
```

### RIGHT JOIN 결과
![Pasted-image-20241105111521.png](/img/이미지 창고/Pasted-image-20241105111521.png)

## OUTER JOIN
:::tip MySQL은 OUTER JOIN 키워드가 존재하지 않습니다

:::

![Pasted-image-20241113085247.png](/img/이미지 창고/Pasted-image-20241113085247.png)
### 문법
```sql
SELECT [컬럼이름]
FROM [테이블 A이름]
LEFT JOIN [테이블 B이름]
ON [테이블 A이름].[컬럼 A 이름] = [테이블 B 이름].[컬럼 B 이름]
UNION 
SELECT [컬럼이름]
FROM [테이블 A이름]
LEFT JOIN [테이블 B이름]
ON [테이블 A이름].[컬럼 A 이름] = [테이블 B 이름].[컬럼 B 이름];
```

### 예시
```SQL
SELECT *
FROM mypokemon
LEFT JOIN ability
ON mypokemon.number = ability.number
UNION
SELECT *
FROM mypokemon
RIGHT JOIN ability
ON mypokemon.number = ability.number;
```

### 결과
![Pasted-image-20241113090606.png](/img/이미지 창고/Pasted-image-20241113090606.png)

## CROSS JOIN
- 두 테이블에 있는 모든 값을 각각 합치기
![Pasted-image-20241113093005.png](/img/이미지 창고/Pasted-image-20241113093005.png)

### 문법
```SQL
SELECT [컬럼 이름]
FROM [테이블 A 이름]
CROSS JOIN [테이블 B 이름]
WHERE 조건식;
```

### 예시
![Pasted-image-20241113093527.png](/img/이미지 창고/Pasted-image-20241113093527.png)
```SQL
SELECT *
FROM mypokemon
CROSS JOIN ability;
```


### 결과
![Pasted-image-20241113093959.png](/img/이미지 창고/Pasted-image-20241113093959.png)

## SELF JOIN
- 같은 테이블에 있는 값 합치기
![Pasted-image-20241113094046.png](/img/이미지 창고/Pasted-image-20241113094046.png)

### 문법
```SQL
SELECT [컬럼이름]
FROM [테이블 A이름] AS t1
INNER JOIN [테이블 A 이름] AS t2
ON t1.[컬럼 A 이름] = t2.[컬럼 B 이름]
WHERE 조건식;
```

### 예시
![Pasted-image-20241113094538.png](/img/이미지 창고/Pasted-image-20241113094538.png)

```SQL
SELECT *
FROM mypokemon AS t1
INNER JOIN mypokemon AS t2
ON t1.number = t2.number;
```


### 결과
![Pasted-image-20241113094552.png](/img/이미지 창고/Pasted-image-20241113094552.png)

## UNION, UNION ALL
![Pasted-image-20241113095056.png](/img/이미지 창고/Pasted-image-20241113095056.png)
### 특징
:::NOTE `[쿼리A] UNION [쿼리B]` 또는 `[쿼리 A] UNION ALL [쿼리B]` 형식으로 사용합니다.
- `[쿼리 A]`와 `[쿼리 B]`의 결과 값을 합쳐서 보여줍니다.
- `UNION` 은 동일한 값을 **제외하고** 보여주며, `UNION ALL` 은 동일한 값도 포함하여 보여줍니다.
:::

- `[쿼리 A]`와 `[쿼리 B]`의 결과 값의  개수가 같아야 합니다.
	- 만약 다를 경우 에러가 발생합니다.
- `ORDER BY`는 쿼리 가장 마지막에 작성 가능하고, `[쿼리 A]`에서 가져온 컬럼으로만 가능합니다.

### 문법
#### `UNION`
```SQL
SELECT [컬럼 이름]
FROM [테이블 A 이름]
UNION
SELECT [컬럼 이름]
FROM [테이블 이름];
```

#### `UNION ALL`
```SQL
SELECT [컬럼 이름]
FROM [테이블 A 이름]
UNION ALL
SELECT [컬럼 이름]
FROM [테이블 B 이름];
```

### 예시
![Pasted-image-20241113101159.png](/img/이미지 창고/Pasted-image-20241113101159.png)

```SQL
SELECT name
FROM mypokemon
UNION ALL
SELECT name
FROM friendpokemon;
```

### 결과 - `ORDER BY ` 사용 예제
```SQL
SELECT number, name, attack
FROM mypokemon
UNION
SELECT number, name, attack
FROM friendpokemon
ORDER BY number;
```

:::tip `ORDER BY` 는 쿼리 가장 마지막에 작성 가능하며, `[쿼리 A]`에서 가져온 컬럼으로 만 가능합니다.

:::

![Pasted-image-20241113101950.png](/img/이미지 창고/Pasted-image-20241113101950.png)



![Pasted-image-20241113102156.png](/img/이미지 창고/Pasted-image-20241113102156.png)
:::NOTE 다른 SQL에서는 `INTERSECT`와 `MINUS`로 표현되는 문법이 MySQL은 해당 하지 않습니다.
- MySQ해당 문법을 `JOIN`으로 해결합니다.

:::

## 교집합
### 문법
```SQL
SELECT [컬림 이름]
FROM [테이블 A 이름] AS A
INNER JOIN [테이블 B 이름] AS B
ON A.[컬럼1 이름] = B.[컬럼1 이름] AND ... AND A.[컬럼N 이름] = B.[컬럼N 이름]
```

:::NOTE 교집합을 확인하고 싶은 컬럼은 모두 다 기준으로 두고 합쳐줘야합니다.

:::

![Pasted-image-20241113104722.png](/img/이미지 창고/Pasted-image-20241113104722.png)

### 예시
```SQL
SELECT A.name
FROM mypokemon AS B
```

### 결과

![Pasted-image-20241113104651.png](/img/이미지 창고/Pasted-image-20241113104651.png)

## 차집합
```sql
SELECT [컬럼 이름]
FROM [테이블 A 이름] AS A
LEFT JOIN [테이블 B 이름] AS B
ON A.[컬럼1 이름] = B.[컬럼1 이름] AND ... AND A[컬럼N 이름]
```

### 예제
```SQL
SELECT A.name
FROM mypokemon as A
LEFT JOIN friendpokemon AS B
ON A.name = B.name
WHERE B.name IS NULL
```

![Pasted-image-20241113111147.png](/img/이미지 창고/Pasted-image-20241113111147.png)



---

#DB #SQL 

---