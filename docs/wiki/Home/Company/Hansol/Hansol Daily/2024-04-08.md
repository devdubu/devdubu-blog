---
ì¢…ë£Œ ë‚ ì§œ: 2024-04-08
ì‹œìž‘ ë‚ ì§œ: 2024-04-08
ë¶„ë¥˜: ë…¸íŠ¸
ì¹´í…Œê³ ë¦¬:
  - Application
íŠ¹ì§•:
  - Front
  - Nuxt3
sticker: emoji//1f4c6
---
- [ ] TextArea Componentí™”
- [ ] Checkbox Component í™”
    - `HInputText`
- [ ] ë©”ë‰´ ì•„ì´ì½˜ ë° ì´ë²¤íŠ¸ ë¡œì§ ê°œë°œ
- [ ] Vitest nuxt/pinia setting

## ë©”ë‰´ ì•„ì´ì½˜ ë° ì´ë²¤íŠ¸ ë¡œì§ ê°œë°œ

- mdi icon ëŒ€ì‹  image pathë¡œ ì§€ì •í•˜ëŠ” ê±¸ë¡œ ë³€ê²½
- ~~í•´ë‹¹ ë¶€ë¶„ ìˆ˜ì • í›„ ë‹¤ì‹œ ìž¬ ìž‘ì—… í•„ìš”~~
- icon option ìž…ë ¥ ì‹œ i íƒœê·¸ë¡œ ë˜ì–´ìžˆëŠ” ê²ƒì„ img íƒœê·¸ë¡œ ì˜µì…˜ì„ ë³€ê²½í•˜ë„ë¡ ì„¤ì • í•´ì•¼ í•¨
- icon imageë¥¼ ë°›ìœ¼ë©´ ë°”ë¡œ ìž‘ì—… í›„ ë„˜ê²¨ì•¼ í•  ë“¯

## Vitest nuxt/pinia setting

[Pinia ðŸ](https://pinia.vuejs.org/cookbook/testing.html)

storeì˜ Unit Test ì˜ˆì‹œ ì½”ë“œ

```tsx
// stores/counter.spec.ts
import { setActivePinia, createPinia } from 'pinia'
import { useCounterStore } from '../src/stores/counter'

describe('Counter Store', () => {
  beforeEach(() => {
    // creates a fresh pinia and makes it active
    // so it's automatically picked up by any useStore() call
    // without having to pass it to it: `useStore(pinia)`
    setActivePinia(createPinia())
  })

  it('increments', () => {
    const counter = useCounterStore()
    expect(counter.n).toBe(0)
    counter.increment()
    expect(counter.n).toBe(1)
  })

  it('increments by amount', () => {
    const counter = useCounterStore()
    counter.increment(10)
    expect(counter.n).toBe(10)
  })
})
```

- ui testë¥¼ í•  ë•Œ, í•´ë‹¹ piniaì—ì„œ storeì— ê°’ì„ ë°›ê³  ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¤‘ì ìœ¼ë¡œ ë‘ê³  `HDialog` test íŒŒì¼ë¡œ test ì§„í–‰
- `ref` ë¼ëŠ” vueì˜ í•¨ìˆ˜ê°€ ì ìš©ì´ ë˜ì§€ ì•ŠëŠ” í˜„ìƒì´ ìžˆë‹¤.

## Vitest Ref ì ìš©ê¸°

```tsx
import { describe, expect, test, it, vi } from 'vitest'
import { shallowMount } from '@vue/test-utils'
import HMsgBox from './index.vue'
import { useMsgBoxStore } from '~/utils/hcore/stores/useMsgBoxStore'
import vue from '@vitejs/plugin-vue'
// Pinia
import { createTestingPinia } from '@pinia/testing'

// Vuetify
import { createVuetify } from 'vuetify'
import * as components from 'vuetify/components'
import * as directives from 'vuetify/directives'

const vuetify = createVuetify({
    components,
    directives,
})

global.ResizeObserver = require('resize-observer-polyfill')

describe('########### HDialog UI ìƒì„± í…ŒìŠ¤íŠ¸ ###########', () => {
    it('ê¸°ë³¸ ì»¨í…Œì´ë„ˆ componentê°€ ìƒì„±ëœë‹¤.', () => {
        const wrapper = shallowMount(HMsgBox, {
            global: {
                plugins: [createTestingPinia({ stubActions: false, createSpy: vi.fn }), vue, vuetify],
            },
        })
        const msgBox = useMsgBoxStore()
        msgBox.open()
        console.log(msgBox.visible)
        console.log(wrapper.html())
    })
})

```

---

#Vue3 #Vitest #Nuxt3 #Pinia
