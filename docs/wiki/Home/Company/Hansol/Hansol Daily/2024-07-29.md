---
sticker: emoji//1f4c6
종료 날짜: 2024-07-29
시작 날짜: 2024-07-29
분류: 노트
카테고리:
  - Application
특징:
  - Front
  - Nuxt3
---
# Composable

Nuxt에서 Composable에 관련된 부분은 auto Import 부분만 나오게된다.

Vue3에서는 해당 부분을 `isMounted` 쪽을 따로 컨트롤이 가능하다고 나와는 있다.

해당 부분은 테스트를 해봐야지 알 것같다.

# LifeCycle hook 잡기

[https://nuxt.com/docs/api/advanced/hooks](https://nuxt.com/docs/api/advanced/hooks) 나오는 표에서 표기된 hook들이 무슨 의미인고 싶었는데 아래의 페이지에서 사용되는 것 같았다.

셋팅은 `plugin/[파일명].ts` 로 쓰이며 아래의 사이트 처럼 사용된다.

[https://nuxt.com/docs/api/composables/use-nuxt-app#hookname-cb](https://nuxt.com/docs/api/composables/use-nuxt-app#hookname-cb)

조금은 더 구성해보고 만져 봐야 하겠지만, 위 표에서 나오는 특정 hook을 잡는데 사용된다.

# Grid 관련 데이터를 전역으로 풀기

## Get / Set 함수를 마련하기

- 해당 데이터를 마련하기 위해서는 `index.vue` 파일에 종속되어있을 수는 없다.
- 해당 함수를 당연하게도 외부로 빼야 하며, access 하기 위해서는 필수 값들을 가져와야 한다.

```tsx
export const useGridState = () => {
    const gridState: any = reactive({})

    const get = (pcd: string, gridName: string) => {
        return gridState[pcd]?.[gridName]
    }
    const set = (pcd: string, gridName: string, gridView: any) => {
        if (!gridState[pcd]) {
            gridState[pcd] = {}
        }
        gridState[pcd][gridName] = gridView
    }
    return { gridState, get, set }
}
```

음;; 이미 되어있넹?

이 부분은 gridView 부분에서의 get, set 부분인 듯 하다.

음, core 부분에서 gridView 부분을 명확히 사용하진 않는다.

하지만, 해당 부분을 옮길 필요가 있어보인다.

즉 Grid 쪽 이벤트 정도 정도는 옮길 필요가 있어보인다.

- `useGrid` 의 쓰임이란..?
- `composable/useGridState` 와의 차이점은?

# 로직 테스트에 대한 고찰

- 조금 더 고 차원 적인 로직 테스트를 해야 할 것 같다.
- 에러 값에 대해서도 조금은 더 확실해 뱉고, 정확한 값에 대해서도 테스트를 상세히 써야할 듯 하다.