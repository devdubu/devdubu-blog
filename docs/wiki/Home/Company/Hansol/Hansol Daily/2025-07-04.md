---
sticker: emoji//1f4c6
시작 날짜: 2025-07-04
종료 날짜: 2025-07-04
분류: 노트
---
- [ ] CChart => ApexChart로 변경 및 maunal import 로 변경
- [ ] CSpreadJS manual import 로 변경
- [ ] GithubRunner => WAS 서버 : 22 번 포트 방화벽 해제 SR 요청


```shell
#!/bin/bash

rm package.json .env
rm -rf .output

pid=`ps -ef | grep webstd | grep -v "grep" | grep -e "npm run start" -e "node .output/server/index.mjs" | awk '{print $2}'`

if [$pid != ""]($pid != ""); then
    kill -9 $pid
fi

tar -zxvf demo-prj.tgz

nohup npm run start 1>/hansol/webstddev/logs/stdweb-v3-frontend_stdout.log 2>/hansol/webstddev/logs/stdweb-v3-frontend_stderr.log &
```

- [ ] pm2 도입 고민해보기
- [ ] css build 시에 오류
	- [ ] 사용하지 않는 font 확인
- [ ] global로 message 즉, `@app`을 두었는데, 문제는 await 즉, Promise 객체를 `.ts`에서 await을 사용한 것이 문제임
```ts
// plugins/app-globals.client.ts

// Nuxt의 자동 임포트 시스템을 활용합니다.
// useNotify, useMessagebox 함수가 @app 디렉토리 내에 있다면
// 직접 상대 경로를 지정하는 대신 아래와 같이 임포트할 수 있습니다.
import { useNotify } from '#imports';
import { useMessagebox, type ICMessagebox } from '#imports';

// remote와 auth 모듈이 @app 디렉토리 내에 있고,
// 이들도 자동 임포트 대상으로 설정되어 있다면 아래와 같이 임포트할 수 있습니다.
// 그렇지 않다면 기존처럼 상대 경로를 사용하거나,
// 해당 모듈들을 window.$app에 할당할 때 동적 임포트를 사용해야 합니다.
import remote from '#imports/remote'; // 예시: @app/remote.ts 에 remote가 있다면
import * as auth from '#imports/auth';   // 예시: @app/services/auth.ts 에 auth가 있다면

// --- 타입스크립트 사용자를 위한 전역 변수 선언 ---
// 이 부분은 `global.d.ts` 파일(예: `types/global.d.ts`)에 분리하여 관리하는 것이 좋습니다.
// 이렇게 하면 여러 파일에서 중복 선언할 필요가 없어집니다.
/*
declare global {
  var $app: {
    toast: ReturnType<typeof useNotify>;
    message: ICMessagebox;
    remote?: typeof remote; // 실제 타입에 맞춰 조정
    auth?: typeof auth;     // 실제 타입에 맞춰 조정
    [key: string]: any;
  };
}
*/
// --------------------------------------------------

export default defineNuxtPlugin(async (nuxtApp) => {
  if (process.client) {
    // global.$app 객체가 없다면 초기화합니다.
    global.$app = global.$app || {};

    // 비동기 초기화
    const messageboxInstance = await useMessagebox();

    // global.$app에 초기화된 인스턴스 할당
    global.$app.message = messageboxInstance;
    global.$app.toast = useNotify();

    // remote와 auth도 이곳에서 global.$app에 할당
    // 만약 #imports로 임포트가 안된다면, 동적 임포트를 사용하거나
    // nuxt.config.ts의 imports.dirs 설정이 올바른지 확인해야 합니다.
    global.$app.remote = remote;
    global.$app.auth = auth;

    console.log('global.$app initialized via plugin with auto-imports:', global.$app);
  }
});
```

위와 같은 문제를 조금 해결해야지 build가 가능함

