---
aliases:
  - "\bBackend"
sticker: vault//이미지/개발 로고/TechIconSVG/Nest.js.svg
시작 날짜: 2025-04-26
종료 날짜: 2025-04-26
---
# 공통 api

```JSON
{
	title: true,
	message: "success"
	statusCode: 200,
	total: 1
	data:[]
}
```

## FK 기준
insert, delete 기준은 id 값을 기준으로 해당 데이터를 처리

나머지 조회 조건은 무조건 CodeKey 를 기준으로 조회 조건 처리를 진행하기


# Status Code

## Business Code

| Code  | title | message    | desc                            |
| ----- | ----- | ---------- | ------------------------------- |
| 20000 | OK    | 요청에 성공했습니다 | 특정 요청에 성공했을 때(요청 목적을 알려주지 않을 때) |
| 20001 | OK    | 조회에 성공했습니다 | 조회 요청에 성공했을 때                   |
| 20001 | OK    | 조회에 성공했습니다 | 조회 요청에 성공했을 때                   |
| 20002 | OK    | 추가에 성공했습니다 | 추가 요청에 성공했을 때                   |
| 20003 | OK    | 수정에 성공했습니다 | 수정 요청에 성공했을 때                   |
| 20004 | OK    | 삭제에 성공했습니다 | 삭제 요청에 성공했을 때                   |
## Error Code



## ✅ 추천 구조

|범위|의미|예시|용도 제안|
|---|---|---|---|
|**400번대**|사용자 입력/유효성 문제 (Client)|`400`, `401`, `403`, `422`, `499` 등|프론트 잘못, 입력 누락, 유효하지 않은 파라미터 등|
|**500번대**|서버 오류 (System)|`500`, `503`, `504` 등|코드 버그, null 접근, 타임아웃, 네트워크 실패 등|
|**600번대**|DB/비즈니스 로직 (Custom)|`601`, `602`, `699` 등|도메인 오류, DB 트랜잭션 실패, 중복 데이터 등|

---

## ✅ 좀 더 세분화된 추천 체계

### 🔵 400번대 – 클라이언트 오류

|코드|설명|
|---|---|
|400|Bad Request – 잘못된 요청|
|401|Unauthorized – 인증 실패|
|403|Forbidden – 권한 없음|
|404|Not Found – 리소스 없음|
|422|Unprocessable Entity – 유효성 실패|
|499|Custom Validation Error – 커스텀 검증 오류|

> 👉 422, 499 등은 커스텀 유효성 검증 오류에 추천

---

### 🔴 500번대 – 시스템/서버 오류

|코드|설명|
|---|---|
|500|Internal Server Error|
|503|Service Unavailable (의존성 오류 등)|
|504|Gateway Timeout|
|599|Unknown System Error (catch-all)|

> 👉 `프로그래밍 오류`, `예상치 못한 예외`, `서버 죽음`, `비동기 실패` 등은 여기에

---

### 🟡 600번대 – 비즈니스/DB 관련 커스텀 오류

|코드|설명|
|---|---|
|601|DB 유니크 충돌|
|602|외래키 무결성 오류|
|603|삭제 불가 (참조 중이거나 권한 없음 등)|
|610|조직/사용자/권한 등 도메인 특화 비즈니스 오류|
|699|Unknown Business Logic Error|

> 👉 `프론트 잘못이 아닌데`, 유효성은 통과했지만 도메인 로직 상 불가능할 때 쓰면 좋아

| Code  | title                       | message             | desc                         |
| ----- | --------------------------- | ------------------- | ---------------------------- |
| 40000 | Bad Request                 | 잘못된 요청입니다           | 특정 요청이 잘 못 됐을 때 (미정)         |
| 40000 | OK                          | 조회에 성공했습니다          | 조회 요청에 성공했을 때                |
| 40100 | Unauthorized                | 로그인이 필요합니다.         | 로그인 하지 않고 로그인이 필요한 서비스에 접근 시 |
| 40101 | unVerified                  | 관리자의 인증이 필요합니다.     | 인증되지 않는 아이디로 로그인 한 경우       |
| 40400 | Not Found                   | 요청한 페이지를 찾을 수 없습니다. | 해당 URL 주소가 없을 때              |
| 50000 | Internal Server Error       | 서버 오류가 발생했습니다.      | 서버 측에서 특정할 수 없는 오류가 발생할 경우   |
| 60001 | PrismaClientValidationError | DataBase 오류         | DataBase 에서 오류가 발생했습니다.      |
