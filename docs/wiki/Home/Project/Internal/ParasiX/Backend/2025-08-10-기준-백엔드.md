---
sticker: vault//이미지/개발 로고/TechIconSVG/Nest.js.svg

slug: "2025-08-10-기준-백엔드"
---
현재 기준으로는 opa 등 해당 부분은 해결 완료 됨
이제는 각 module을 중점으로 api를 개발해야할 타이밍임
# 기본 API 개발

## 조직 관리
- 사용자의 권한을 기반으로 `org` 객체에 존재하는 id를 기준으로 검색하여서 프론트에 전달함
- 조직 관리에서만 프로젝트 관리 연결이 가능하도록 api를 셋팅 할것이며,
	- 기본적으로 grid 를 기반으로 해당 데이터를 하기도 하고, set이라는 연결 방식은 리스크 있기 때문에,
	- Connect Delete 라는 객체를 받아서 해당 연결 데이터를 구분하도록 한다.
	- (연결 데이터만 해당 방식으로 진행함)

## 프로젝트 관리
- 조직관리와 마찬가지로 `proj` 객체에 존재하는 id를 기준으로 검색하여서 프론트에 전달
- 조직관리에서는 menu 관리와 연결하도록 api를 셋팅할 것임

## 메뉴 관리
- 조직관리와 이하 동문 `menu` 객체 사용
- 조직관리와 마찬가지로 page 와 연결하도록 api를 셋팅할 예정임

## 페이지 관리
- 조직관리와 이하 동문 `page` 객체를 사용할 것임

> 기본적으로 아래의 페이지들은 Project 권한 이상 부터의 admin 권한이 존재해야함

## 권한 그룹 관리

## 권한 관리
- 기본적으로는 auth 관리를 하려고 햇으나, 개념적으로 role을 권한 관리로 치환해서 생각한다.
	- 이유는 role - auth - permission이 한꺼번에 생성이 되어야지 3가지를 한꺼번에 생각이 가능하기 때문이다.
- 기본적으로 list 화면에서 role을 생성하는 것은 자유
	- detail 팝업을 통해서 auth 와 permission을 연결 할 때 부터는 제약을 건다.
		1. 하나의 role에는 같은 레벨의 권한만 생성 가능
			- 예를 들면 proj에 권한을 부여한 role이라면, Proj 만 가능 menu나 이외 권한은 불가
		2. proj admin 권한이 들어간 사용자부터만 해당 페이지에 수정, 삭제가 가능함
			- proj 권한은 org에 대한 권한 설정은 하지 못함
		3. role에서 authType은 백엔드가 기본적으로 데이터를 1차적으로 확인해서 임의적으로 넣어줌


## 사용자 관리
- proj admin 권한 이상인 사람 부터 가능
- Proj admin 권한을 가진 사용자는 전체 사용자의 proj code를 기반으로 출력
	- 만약 org 
- org admin 권한을 가진 사용자는 전체 사용자의 org code를 기반으로 출력


권한 확인 이외 확인 절차가 한개 더 필요함
만약 pageCd를 none 값이 아닌 값으로 보낼 때는 backend api도 확인할 필요성이 있음

pageCd 값을 검색하여서, 실제 api url 을 검증하는 로직도 추가해야할듯

